(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var re,k,Pe,L,ve,Te,Me,De,me,ce,_e,Le,G={},Be=[],Ye=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,oe=Array.isArray;function P(t,e){for(var n in e)t[n]=e[n];return t}function he(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function W(t,e,n){var o,a,l,i={};for(l in e)l=="key"?o=e[l]:l=="ref"?a=e[l]:i[l]=e[l];if(arguments.length>2&&(i.children=arguments.length>3?re.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(l in t.defaultProps)i[l]==null&&(i[l]=t.defaultProps[l]);return X(t,i,o,a,null)}function X(t,e,n,o,a){var l={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++Pe,__i:-1,__u:0};return a==null&&k.vnode!=null&&k.vnode(l),l}function se(t){return t.children}function Q(t,e){this.props=t,this.context=e}function U(t,e){if(e==null)return t.__?U(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?U(t):null}function Fe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Fe(t)}}function ue(t){(!t.__d&&(t.__d=!0)&&L.push(t)&&!ee.__r++||ve!=k.debounceRendering)&&((ve=k.debounceRendering)||Te)(ee)}function ee(){for(var t,e,n,o,a,l,i,s=1;L.length;)L.length>s&&L.sort(Me),t=L.shift(),s=L.length,t.__d&&(n=void 0,a=(o=(e=t).__v).__e,l=[],i=[],e.__P&&((n=P({},o)).__v=o.__v+1,k.vnode&&k.vnode(n),fe(e.__P,n,o,e.__n,e.__P.namespaceURI,32&o.__u?[a]:null,l,a??U(o),!!(32&o.__u),i),n.__v=o.__v,n.__.__k[n.__i]=n,Ue(l,n,i),n.__e!=a&&Fe(n)));ee.__r=0}function Ie(t,e,n,o,a,l,i,s,_,c,f){var r,p,m,h,b,g,y=o&&o.__k||Be,d=e.length;for(_=Je(n,e,y,_,d),r=0;r<d;r++)(m=n.__k[r])!=null&&(p=m.__i==-1?G:y[m.__i]||G,m.__i=r,g=fe(t,m,p,a,l,i,s,_,c,f),h=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&pe(p.ref,null,m),f.push(m.ref,m.__c||h,m)),b==null&&h!=null&&(b=h),4&m.__u||p.__k===m.__k?_=Oe(m,_,t):typeof m.type=="function"&&g!==void 0?_=g:h&&(_=h.nextSibling),m.__u&=-7);return n.__e=b,_}function Je(t,e,n,o,a){var l,i,s,_,c,f=n.length,r=f,p=0;for(t.__k=new Array(a),l=0;l<a;l++)(i=e[l])!=null&&typeof i!="boolean"&&typeof i!="function"?(_=l+p,(i=t.__k[l]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?X(null,i,null,null,null):oe(i)?X(se,{children:i},null,null,null):i.constructor==null&&i.__b>0?X(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(c=i.__i=Xe(i,n,_,r))!=-1&&(r--,(s=n[c])&&(s.__u|=2)),s==null||s.__v==null?(c==-1&&(a>f?p--:a<f&&p++),typeof i.type!="function"&&(i.__u|=4)):c!=_&&(c==_-1?p--:c==_+1?p++:(c>_?p--:p++,i.__u|=4))):t.__k[l]=null;if(r)for(l=0;l<f;l++)(s=n[l])!=null&&(2&s.__u)==0&&(s.__e==o&&(o=U(s)),We(s,s));return o}function Oe(t,e,n){var o,a;if(typeof t.type=="function"){for(o=t.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=t,e=Oe(o[a],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=U(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Xe(t,e,n,o){var a,l,i=t.key,s=t.type,_=e[n];if(_===null&&t.key==null||_&&i==_.key&&s==_.type&&(2&_.__u)==0)return n;if(o>(_!=null&&(2&_.__u)==0?1:0))for(a=n-1,l=n+1;a>=0||l<e.length;){if(a>=0){if((_=e[a])&&(2&_.__u)==0&&i==_.key&&s==_.type)return a;a--}if(l<e.length){if((_=e[l])&&(2&_.__u)==0&&i==_.key&&s==_.type)return l;l++}}return-1}function be(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Ye.test(e)?n:n+"px"}function V(t,e,n,o,a){var l;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||be(t.style,e,"");if(n)for(e in n)o&&n[e]==o[e]||be(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")l=e!=(e=e.replace(De,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+l]=n,n?o?n.u=o.u:(n.u=me,t.addEventListener(e,l?_e:ce,l)):t.removeEventListener(e,l?_e:ce,l);else{if(a=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function xe(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=me++;else if(e.t<n.u)return;return n(k.event?k.event(e):e)}}}function fe(t,e,n,o,a,l,i,s,_,c){var f,r,p,m,h,b,g,y,d,v,x,E,S,R,T,M,O,w=e.type;if(e.constructor!=null)return null;128&n.__u&&(_=!!(32&n.__u),l=[s=e.__e=n.__e]),(f=k.__b)&&f(e);e:if(typeof w=="function")try{if(y=e.props,d="prototype"in w&&w.prototype.render,v=(f=w.contextType)&&o[f.__c],x=f?v?v.props.value:f.__:o,n.__c?g=(r=e.__c=n.__c).__=r.__E:(d?e.__c=r=new w(y,x):(e.__c=r=new Q(y,x),r.constructor=w,r.render=Ze),v&&v.sub(r),r.props=y,r.state||(r.state={}),r.context=x,r.__n=o,p=r.__d=!0,r.__h=[],r._sb=[]),d&&r.__s==null&&(r.__s=r.state),d&&w.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=P({},r.__s)),P(r.__s,w.getDerivedStateFromProps(y,r.__s))),m=r.props,h=r.state,r.__v=e,p)d&&w.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),d&&r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(d&&w.getDerivedStateFromProps==null&&y!==m&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(y,x),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(y,r.__s,x)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(r.props=y,r.state=r.__s,r.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(H){H&&(H.__=e)}),E=0;E<r._sb.length;E++)r.__h.push(r._sb[E]);r._sb=[],r.__h.length&&i.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(y,r.__s,x),d&&r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(m,h,b)})}if(r.context=x,r.props=y,r.__P=t,r.__e=!1,S=k.__r,R=0,d){for(r.state=r.__s,r.__d=!1,S&&S(e),f=r.render(r.props,r.state,r.context),T=0;T<r._sb.length;T++)r.__h.push(r._sb[T]);r._sb=[]}else do r.__d=!1,S&&S(e),f=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++R<25);r.state=r.__s,r.getChildContext!=null&&(o=P(P({},o),r.getChildContext())),d&&!p&&r.getSnapshotBeforeUpdate!=null&&(b=r.getSnapshotBeforeUpdate(m,h)),M=f,f!=null&&f.type===se&&f.key==null&&(M=je(f.props.children)),s=Ie(t,oe(M)?M:[M],e,n,o,a,l,i,s,_,c),r.base=e.__e,e.__u&=-161,r.__h.length&&i.push(r),g&&(r.__E=r.__=null)}catch(H){if(e.__v=null,_||l!=null)if(H.then){for(e.__u|=_?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;l[l.indexOf(s)]=null,e.__e=s}else for(O=l.length;O--;)he(l[O]);else e.__e=n.__e,e.__k=n.__k;k.__e(H,e,n)}else l==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):s=e.__e=Qe(n.__e,e,n,o,a,l,i,_,c);return(f=k.diffed)&&f(e),128&e.__u?void 0:s}function Ue(t,e,n){for(var o=0;o<n.length;o++)pe(n[o],n[++o],n[++o]);k.__c&&k.__c(e,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(l){l.call(a)})}catch(l){k.__e(l,a.__v)}})}function je(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:oe(t)?t.map(je):P({},t)}function Qe(t,e,n,o,a,l,i,s,_){var c,f,r,p,m,h,b,g=n.props,y=e.props,d=e.type;if(d=="svg"?a="http://www.w3.org/2000/svg":d=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),l!=null){for(c=0;c<l.length;c++)if((m=l[c])&&"setAttribute"in m==!!d&&(d?m.localName==d:m.nodeType==3)){t=m,l[c]=null;break}}if(t==null){if(d==null)return document.createTextNode(y);t=document.createElementNS(a,d,y.is&&y),s&&(k.__m&&k.__m(e,l),s=!1),l=null}if(d==null)g===y||s&&t.data==y||(t.data=y);else{if(l=l&&re.call(t.childNodes),g=n.props||G,!s&&l!=null)for(g={},c=0;c<t.attributes.length;c++)g[(m=t.attributes[c]).name]=m.value;for(c in g)if(m=g[c],c!="children"){if(c=="dangerouslySetInnerHTML")r=m;else if(!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;V(t,c,null,m,a)}}for(c in y)m=y[c],c=="children"?p=m:c=="dangerouslySetInnerHTML"?f=m:c=="value"?h=m:c=="checked"?b=m:s&&typeof m!="function"||g[c]===m||V(t,c,m,g[c],a);if(f)s||r&&(f.__html==r.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(r&&(t.innerHTML=""),Ie(e.type=="template"?t.content:t,oe(p)?p:[p],e,n,o,d=="foreignObject"?"http://www.w3.org/1999/xhtml":a,l,i,l?l[0]:n.__k&&U(n,0),s,_),l!=null)for(c=l.length;c--;)he(l[c]);s||(c="value",d=="progress"&&h==null?t.removeAttribute("value"):h!=null&&(h!==t[c]||d=="progress"&&!h||d=="option"&&h!=g[c])&&V(t,c,h,g[c],a),c="checked",b!=null&&b!=t[c]&&V(t,c,b,g[c],a))}return t}function pe(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(a){k.__e(a,n)}}function We(t,e,n){var o,a;if(k.unmount&&k.unmount(t),(o=t.ref)&&(o.current&&o.current!=t.__e||pe(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(l){k.__e(l,e)}o.base=o.__P=null}if(o=t.__k)for(a=0;a<o.length;a++)o[a]&&We(o[a],e,n||typeof t.type!="function");n||he(t.__e),t.__c=t.__=t.__e=void 0}function Ze(t,e,n){return this.constructor(t,n)}function et(t,e,n){var o,a,l,i;e==document&&(e=document.documentElement),k.__&&k.__(t,e),a=(o=!1)?null:e.__k,l=[],i=[],fe(e,t=e.__k=W(se,null,[t]),a||G,G,e.namespaceURI,a?null:e.firstChild?re.call(e.childNodes):null,l,a?a.__e:e.firstChild,o,i),Ue(l,t,i)}function le(t){function e(n){var o,a;return this.getChildContext||(o=new Set,(a={})[e.__c]=this,this.getChildContext=function(){return a},this.componentWillUnmount=function(){o=null},this.shouldComponentUpdate=function(l){this.props.value!=l.value&&o.forEach(function(i){i.__e=!0,ue(i)})},this.sub=function(l){o.add(l);var i=l.componentWillUnmount;l.componentWillUnmount=function(){o&&o.delete(l),i&&i.call(l)}}),n.children}return e.__c="__cC"+Le++,e.__=t,e.Provider=e.__l=(e.Consumer=function(n,o){return n.children(o)}).contextType=e,e}re=Be.slice,k={__e:function(t,e,n,o){for(var a,l,i;e=e.__;)if((a=e.__c)&&!a.__)try{if((l=a.constructor)&&l.getDerivedStateFromError!=null&&(a.setState(l.getDerivedStateFromError(t)),i=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,o||{}),i=a.__d),i)return a.__E=a}catch(s){t=s}throw t}},Pe=0,Q.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=P({},this.state),typeof t=="function"&&(t=t(P({},n),this.props)),t&&P(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ue(this))},Q.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ue(this))},Q.prototype.render=se,L=[],Te=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Me=function(t,e){return t.__v.__b-e.__v.__b},ee.__r=0,De=/(PointerCapture)$|Capture$/i,me=0,ce=xe(!1),_e=xe(!0),Le=0;var tt=0;function u(t,e,n,o,a,l){e||(e={});var i,s,_=e;if("ref"in _)for(s in _={},e)s=="ref"?i=e[s]:_[s]=e[s];var c={type:t,props:_,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--tt,__i:-1,__u:0,__source:a,__self:l};if(typeof t=="function"&&(i=t.defaultProps))for(s in i)_[s]===void 0&&(_[s]=i[s]);return k.vnode&&k.vnode(c),c}var F,$,ie,we,te=0,Ge=[],N=k,ke=N.__b,$e=N.__r,Ne=N.diffed,He=N.__c,Ce=N.unmount,Ee=N.__;function q(t,e){N.__h&&N.__h($,t,te||e),te=0;var n=$.__H||($.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function C(t){return te=1,nt(qe,t)}function nt(t,e,n){var o=q(F++,2);if(o.t=t,!o.__c&&(o.__=[qe(void 0,e),function(s){var _=o.__N?o.__N[0]:o.__[0],c=o.t(_,s);_!==c&&(o.__N=[c,o.__[1]],o.__c.setState({}))}],o.__c=$,!$.__f)){var a=function(s,_,c){if(!o.__c.__H)return!0;var f=o.__c.__H.__.filter(function(p){return!!p.__c});if(f.every(function(p){return!p.__N}))return!l||l.call(this,s,_,c);var r=o.__c.props!==s;return f.forEach(function(p){if(p.__N){var m=p.__[0];p.__=p.__N,p.__N=void 0,m!==p.__[0]&&(r=!0)}}),l&&l.call(this,s,_,c)||r};$.__f=!0;var l=$.shouldComponentUpdate,i=$.componentWillUpdate;$.componentWillUpdate=function(s,_,c){if(this.__e){var f=l;l=void 0,a(s,_,c),l=f}i&&i.call(this,s,_,c)},$.shouldComponentUpdate=a}return o.__N||o.__}function I(t,e){var n=q(F++,3);!N.__s&&ye(n.__H,e)&&(n.__=t,n.u=e,$.__H.__h.push(n))}function rt(t,e){var n=q(F++,4);!N.__s&&ye(n.__H,e)&&(n.__=t,n.u=e,$.__h.push(n))}function ot(t,e){var n=q(F++,7);return ye(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Y(t,e){return te=8,ot(function(){return t},e)}function A(t){var e=$.context[t.__c],n=q(F++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub($)),e.props.value):t.__}function st(){for(var t;t=Ge.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Z),t.__H.__h.forEach(de),t.__H.__h=[]}catch(e){t.__H.__h=[],N.__e(e,t.__v)}}N.__b=function(t){$=null,ke&&ke(t)},N.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Ee&&Ee(t,e)},N.__r=function(t){$e&&$e(t),F=0;var e=($=t.__c).__H;e&&(ie===$?(e.__h=[],$.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(Z),e.__h.forEach(de),e.__h=[],F=0)),ie=$},N.diffed=function(t){Ne&&Ne(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ge.push(e)!==1&&we===N.requestAnimationFrame||((we=N.requestAnimationFrame)||lt)(st)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),ie=$=null},N.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Z),n.__h=n.__h.filter(function(o){return!o.__||de(o)})}catch(o){e.some(function(a){a.__h&&(a.__h=[])}),e=[],N.__e(o,n.__v)}}),He&&He(t,e)},N.unmount=function(t){Ce&&Ce(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{Z(o)}catch(a){e=a}}),n.__H=void 0,e&&N.__e(e,n.__v))};var Ae=typeof requestAnimationFrame=="function";function lt(t){var e,n=function(){clearTimeout(o),Ae&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Ae&&(e=requestAnimationFrame(n))}function Z(t){var e=$,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),$=e}function de(t){var e=$;t.__c=t.__(),$=e}function ye(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function qe(t,e){return typeof e=="function"?e(t):e}const j=le();function at({children:t}){const[e,n]=C([]),[o,a]=C([]),l=[];function i(c){const f=c.filter(p=>p.team==="hero"),r=c.filter(p=>p.team==="enemy");return{heroes:f,enemies:r}}I(()=>{const{heroes:c,enemies:f}=i(l);n(c),a(f)},[]);const s=c=>{n(c)},_=c=>{a(c)};return u(j.Provider,{value:{heroRoster:e,enemyRoster:o,setHeroRoster:s,setEnemyRoster:_},children:t})}const Ke=le(),ge=()=>A(Ke),it=({children:t})=>{const{heroRoster:e,enemyRoster:n}=A(j),[o,a]=C(!0);I(()=>{console.log(`Is Player Turn: ${o}`)},[o]);const l=e.length>0&&e.every(s=>s.hp<=0||s.status==="killed")||n.length>0&&n.every(s=>s.hp<=0||s.status==="killed"),i=e.length===0&&n.length===0;return u(Ke.Provider,{value:{isPlayerTurn:o,setIsPlayerTurn:a,isGameOver:l,isNewGame:i},children:t})},B=[{type:"Paladin",maxHp:3,hp:3,atk:.6,def:1,status:"healthy",row:null,team:"hero",boss:null,rating:6},{type:"Knight",maxHp:2,hp:2,atk:1,def:.6,status:"healthy",row:null,team:"hero",boss:null,rating:5},{type:"Revived",maxHp:1,hp:1,atk:.5,def:.1,status:"healthy",row:null,team:null,boss:null,rating:1},{type:"Priest",maxHp:1,hp:1,atk:.2,def:.2,status:"healthy",row:null,team:"hero",boss:null,rating:3},{type:"Bard",maxHp:1,hp:1,atk:.3,def:.2,status:"healthy",row:null,team:"hero",boss:null,rating:7},{type:"Ranger",maxHp:1,hp:1,atk:1,def:.3,status:"healthy",row:null,team:"hero",boss:null,rating:4},{type:"Assassin",maxHp:1,hp:1,atk:.8,def:.4,status:"healthy",row:null,team:"hero",boss:null,rating:5},{type:"Mage",maxHp:1,hp:1,atk:1.5,def:.3,status:"healthy",row:null,team:"hero",boss:null,rating:4},{type:"Warlock",maxHp:2,hp:2,atk:.3,def:.6,status:"healthy",row:null,team:"hero",boss:null,rating:6},{type:"Necromancer",maxHp:1,hp:1,atk:0,def:.3,status:"healthy",row:null,team:"hero",boss:null,rating:8},{type:"Slime",maxHp:1,hp:1,atk:.2,def:0,status:"healthy",row:"front",team:"enemy",boss:!1,rating:1},{type:"Goblin",maxHp:1,hp:1,atk:.2,def:.2,status:"healthy",row:"front",team:"enemy",boss:!1,rating:2},{type:"Orc",maxHp:2,hp:2,atk:.6,def:.2,status:"healthy",row:"front",team:"enemy",boss:!1,rating:3},{type:"Orc_Undead",maxHp:2,hp:2,atk:.4,def:.2,status:"healthy",row:"front",team:"enemy",boss:!1,rating:2},{type:"Skeleton_Archer",maxHp:1,hp:1,atk:.7,def:.1,status:"healthy",row:"back",team:"enemy",boss:!1,rating:4},{type:"Skeleton_Mage",maxHp:1,hp:1,atk:.8,def:.1,status:"healthy",row:"back",team:"enemy",boss:!1,rating:5},{type:"Wraith",maxHp:1,hp:1,atk:.5,def:.8,status:"healthy",row:"front",team:"enemy",boss:!1,rating:6},{type:"Revenant",maxHp:3,hp:3,atk:.8,def:.7,status:"healthy",row:"front",team:"enemy",boss:!1,rating:6},{type:"Minotaur",maxHp:4,hp:4,atk:.5,def:.8,status:"healthy",row:"front",team:"enemy",boss:!0,rating:8},{type:"Wyvern",maxHp:4,hp:4,atk:.7,def:.7,status:"healthy",row:"back",team:"enemy",boss:!0,rating:7},{type:"Medusa",maxHp:2,hp:2,atk:1,def:.4,status:"healthy",row:"back",team:"enemy",boss:!0,rating:4},{type:"Basilisk",maxHp:4,hp:4,atk:.6,def:.9,status:"healthy",row:"front",team:"enemy",boss:!0,rating:7},{type:"Aredhel_of_the_Pestilence",maxHp:10,hp:10,atk:1,def:.9,status:"healthy",row:"back",team:"enemy",boss:!0,rating:10}];function ne(t,e){return t=new Date().getMilliseconds(),e=Math.floor(t*Math.random()%101),e}const Se=t=>{const e=Math.floor(t*100);return ne()<e},Re=t=>{const e=Math.floor(t*100);return ne()<e},ct=(t,e,n,o,a,l,i)=>{const s=e,_=(f,r)=>{const p=r.team==="hero",m=p?a:l,h=p?l:a;m(b=>{const g=b.some(d=>d.id===r.id);let y;if(g)y=b.map(d=>d.id===r.id?r:d);else{const d={...r};y=[...b,d]}return y}),h(b=>b.filter(y=>y.id!==r.id))},c=f=>f.team==="hero"?n:o;if((t.status==="killed"||e.status==="killed")&&t.type!=="Necromancer")return i("Invalid combat: Attacker or defender is missing or killed."),{outcome:"invalid"};switch(!0){case(t.row==="back"&&t.type!=="Ranger"&&t.type!=="Warlock"&&t.type!=="Assassin"&&t.type!=="Skeleton_Archer"&&t.type!=="Wyvern"&&t.type!=="Skeleton_Mage"&&t.type!=="Goblin"&&t.type!=="Wraith"&&t.type!=="Bard"&&t.type!=="Priest"&&t.type!=="Mage"&&t.type!=="Necromancer"):return i("Target out of range!"),{outcome:"out of range"};case(e.row==="back"&&t.type!=="Ranger"&&t.type!=="Warlock"&&t.type!=="Assassin"&&t.type!=="Skeleton_Archer"&&t.type!=="Wyvern"&&t.type!=="Revenant"&&t.type!=="Necromancer"&&c(e).filter(v=>v.row==="front"&&v.status!=="killed").length>=c(e).filter(v=>v.row==="back"&&v.status!=="killed").length):return i("Target is well-defended"),{outcome:"target defended"};case(t.type==="Necromancer"&&e.status==="killed"):const f=B.find(v=>v.type==="Revenant");let r=B.find(v=>v.type==="Skeleton_Mage"),p=B.find(v=>v.type==="Skeleton_Archer"),m=B.find(v=>v.type==="Wraith"),h=B.find(v=>v.type==="Revived");return s.type==="Paladin"||s.type==="Knight"||s.type==="Assassin"?(f.team="hero",f.row="front",f.id=e.id,Object.assign(s,f)):s.type==="Priest"||s.type==="Warlock"||s.type==="Mage"||s.type==="Skeleton_Mage"?(r.team="hero",r.row="front",r.id=e.id,Object.assign(s,r)):s.type==="Ranger"||s.type==="Skeleton_Archer"?(p.team="hero",p.row="front",p.id=e.id,Object.assign(s,p)):s.type==="Bard"||s.type==="Wraith"||s.type==="Orc"?(m.team="hero",m.row="front",m.id=e.id,Object.assign(s,m)):(h.team="hero",h.row="front",h.id=e.id,Object.assign(s,h)),i(`${t.id} (${t.type}) revived ${e.id} (${e.type}) as a ${s.type}!`),_(e,s);case(t.team===e.team&&t.type==="Priest"&&t.type!=="Necromancer"):return s.hp=s.maxHp,s.status="healthy",i(`${t.id} (${t.type}) healed ${e.id} (${e.type}) to full health!`),_(e,s);case(t.team===e.team&&t.type==="Bard"):let b=ne()>50?"DEF":"ATK";return b==="DEF"?s.def+=.3:s.atk+=.8,console.log(e.id,"'s atk & def --->",e.atk," ",e.def),i(`${t.id} (${t.type}) buffed ${e.id} (${e.type})'s ${b}!`),_(e,s);case(t.team===e.team&&t.type!=="Necromancer"):return i("Cannot attack teammates!"),{outcome:"friendly fire"};case(t.team!==e.team&&(t.type==="Warlock"||t.type==="Skeleton_Mage"||t.type==="Mage")):let g=ne()>.5?"maimed":"paralyzed",y="";return Se(t.atk)===!1&&e.status!=="killed"?(s.status=g,g==="maimed"?s.def-=.5:s.atk-=.5,y=`${t.id} (${t.type})'s attack missed, but ${e.id} (${e.type}) is now ${g}!`,i(y),_(e,s)):Re(e.def)===!0&&e.status!=="killed"?(s.status=g,g==="maimed"?s.def-=.5:s.atk-=.5,y=`${e.id} (${e.type}) resisted the attack, but is now ${g}!`,i(y),_(e,s)):(s.hp-=1,s.hp===0?(s.status="killed",s.def=0,s.atk=0,y=`${t.id} (${t.type}) defeated ${e.id} (${e.type}) with a debuffing attack!`):(s.status=g,g==="maimed"?s.def-=.5:s.atk-=.5,y=`${t.id} (${t.type}) hit ${e.id} (${e.type}) for 1 damage and applied ${g}!`),i(y),_(e,s));default:if(Se(t.atk)===!1)return i(`${t.id} (${t.type}) missed!`),{outcome:"miss"};if(Re(e.def)===!0)return i(`${e.id} (${e.type}) deflected the attack!`),{outcome:"deflected"};let d="";return s.hp-=1,s.hp===0?(s.status="killed",s.def=0,s.atk=0,d=`${t.id} (${t.type}) defeated ${e.id} (${e.type})!`):d=`${t.id} (${t.type}) hit ${e.id} (${e.type}) for 1 damage.`,i(d),_(e,s)}},ze=(t,e)=>!(!t||!e||(t.status==="killed"||e.status==="killed")&&t.type!=="Necromancer"),_t=(t,e,n,o,a,l,i)=>ze(t,e)?ct(t,e,n,o,a,l,i):(i("Invalid combat pair."),{outcome:"invalid"}),K=le();function ut({children:t}){const[e,n]=C(!1),[o,a]=C(""),l=s=>{a(s),n(!0)},i=()=>{n(!1),a("")};return u(K.Provider,{value:{isOpen:e,openModal:l,closeModal:i,modalMessage:o},children:t})}const ae=le();function dt({children:t}){const{heroRoster:e,enemyRoster:n,setHeroRoster:o,setEnemyRoster:a}=A(j),{setIsPlayerTurn:l}=ge(),{openModal:i}=A(K),[s,_]=C(null),[c,f]=C(null),r=Y(()=>{_(null),f(null),console.log("...")},[]),p=Y(g=>{_(y=>y?(f(d=>d||g),y):g)},[]),m=Y((g,y)=>ze(g,y),[]),h=Y((g,y)=>_t(g,y,e,n,o,a,i),[e,n,o,a,i]);I(()=>{s&&c&&(console.log("ActionContext: Executing combat and ending player turn."),h(s,c),r(),l(!1))},[s,c,h,r,l]);const b={selectedAttacker:s,selectedDefender:c,selectUnit:p,resetSelection:r,isValidSelection:m,executeCombat:h};return u(ae.Provider,{value:b,children:t})}function D({id:t,type:e,hp:n,maxHp:o,row:a,atk:l,def:i,status:s,team:_}){const{selectUnit:c,selectedAttacker:f,selectedDefender:r}=A(ae),p=_==="enemy"?"text-rose-400":"text-teal-200",m=s==="killed",h=(f==null?void 0:f.id)===t||(r==null?void 0:r.id)===t,b=(f==null?void 0:f.type)==="Necromancer"||(r==null?void 0:r.type)==="Necromancer";rt(()=>{localStorage.setItem("necromancerSelected",b?"true":"false")},[b]);let g="font-mono py-4 border border-gray-700 bg-gray-800 rounded-lg shadow-md flex flex-col focus:outline-none selection:bg-transparent w-40";switch(!0){case(b&&!m&&e!=="Necromancer"):g+=" collapse";break;case(h&&!m):g+=" border-yellow-400 border-2";break;case(m&&!b):g+=" opacity-50 cursor-not-allowed";break;case(!m&&!b):g+=" hover:bg-slate-600";break;default:g+=" hover:bg-slate-600";break}const y=m&&!b;function d(){c({id:t,type:e,hp:n,maxHp:o,row:a,atk:l,def:i,status:s,team:_})}const v=_==="enemy"?{className:`${g} enemy-card`,"data-hp":m?"0":n}:{className:g};return console.log("selectedAttacker--->",f),u("button",{onClick:y?void 0:()=>d(),disabled:y,...v,children:[u("div",{class:"font-serif font-thin text-gray-300",children:t}),u("div",{class:`font-semibold text-xxs mb-2 ${p}`,children:e}),u("div",{class:"text-green-400 font-semibold text-xxs",children:[m?0:n," hp"]}),u("div",{class:m?"text-gray-500 text-xxs":"text-red-400 text-xxs",children:s})]})}function Ve(){const{isOpen:t,closeModal:e,modalMessage:n}=A(K);return I(()=>{let o;return t&&(o=setTimeout(()=>{e()},1e3)),()=>clearTimeout(o)},[t,e]),t?u("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u("div",{class:"bg-gray-800 p-6 rounded-lg shadow-xl text-white max-w-sm w-full",children:u("p",{class:"mb-4",children:n})})}):null}function mt(){const{heroRoster:t,enemyRoster:e}=A(j),{selectedAttacker:n,selectedDefender:o,resetSelection:a}=A(ae),{openModal:l}=A(K),i=(r,p)=>r.filter(m=>m.row===p),s=i(e,"back"),_=i(e,"front"),c=i(t,"front"),f=i(t,"back");return I(()=>{const r=p=>{!p.target.closest(".card")&&n&&!o&&(console.log("Outside click detected, resetting selection."),a())};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)},[n,o,a]),u("div",{class:"h-screen w-screen bg-gray-900 flex flex-col items-center justify-center py-2 text-xs md:text-lg lg:text-lg",children:[u(Ve,{})," ",u("div",{class:"flex flex-row gap-2 justify-center min-h-[120px] items-center",children:s.map(r=>W(D,{...r,key:r.id,className:"card"}))}),u("div",{class:"flex flex-row gap-2 mt-2 justify-center min-h-[120px] items-center",children:_.map(r=>W(D,{...r,key:r.id,className:"card"}))}),u("div",{class:"h-16"}),u("div",{class:"flex flex-row gap-2 mt-2 justify-center min-h-[120px] items-center",children:c.map(r=>W(D,{...r,key:r.id,className:"card"}))}),u("div",{class:"flex flex-row gap-2 mt-2 justify-center min-h-[120px] items-center",children:f.map(r=>W(D,{...r,key:r.id,className:"card"}))})]})}function ht(){const{heroRoster:t,enemyRoster:e}=A(j),{setIsPlayerTurn:n}=ge(),{executeCombat:o}=A(ae),{openModal:a}=A(K),[l,i]=C(null),[s,_]=C(null);I(()=>{console.log("EnemyBoard: Mounted, initiating enemy turn...");let h,b,g;return h=setTimeout(()=>{const y=e.filter(v=>v.status!=="killed"),d=t.filter(v=>v.status!=="killed");if(y.length>0&&d.length>0){const v=y[Math.floor(Math.random()*y.length)];console.log(`Enemy AI: Selected attacker ${v.id} (${v.type})`),i(v.id),b=setTimeout(()=>{const x=d[Math.floor(Math.random()*d.length)];console.log(`Enemy AI: Selected defender ${x.id} (${x.type})`),_(x.id),g=setTimeout(()=>{o(v,x),i(null),_(null),n(!0),console.log("Enemy AI: Turn complete, switching back to player turn.")},1e3)},1e3)}else console.log("Enemy AI: No valid targets or attackers available."),n(!0)},500),()=>{clearTimeout(h),clearTimeout(b),clearTimeout(g)}},[]),I(()=>{const h=b=>{b.preventDefault()};return window.addEventListener("keydown",h,!0),window.addEventListener("keyup",h,!0),window.addEventListener("contextmenu",h,!0),()=>{window.removeEventListener("keydown",h,!0),window.removeEventListener("keyup",h,!0),window.removeEventListener("contextmenu",h,!0),console.log("EnemyBoard: Unmounted, input disabling listeners removed.")}},[]);const c=(h,b)=>h.filter(g=>g.row===b),f=c(e,"back"),r=c(e,"front"),p=c(t,"front"),m=c(t,"back");return u("div",{class:"h-screen w-screen bg-gray-900 flex flex-col items-center justify-center py-2 text-xs md:text-lg lg:text-lg relative",children:[u(Ve,{})," ",u("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"transparent",zIndex:100},onClick:h=>{h.preventDefault(),h.stopPropagation()},onContextMenu:h=>{h.preventDefault(),h.stopPropagation()}}),u("div",{class:"absolute top-4 left-4 bg-red-600 text-white p-2 rounded shadow-lg z-10",children:"Enemy Turn..."}),u("div",{class:"flex flex-row gap-2 justify-center min-h-[120px] items-center",children:f.map(h=>u("div",{className:`${h.id===l?"border-2 border-yellow-600":""}`,children:u(D,{...h,className:"card"})},h.id))}),u("div",{class:"flex flex-row gap-2 mt-2 justify-center min-h-[120px] items-center",children:r.map(h=>u("div",{className:`${h.id===l?"border-2 border-yellow-600":""}`,children:u(D,{...h,className:"card"})},h.id))}),u("div",{class:"h-16"}),u("div",{class:"flex flex-row gap-2 mt-2 justify-center min-h-[120px] items-center",children:p.map(h=>u("div",{className:`${h.id===s?"border-2 border-rose-600":""}`,children:u(D,{...h,className:"card"})},h.id))}),u("div",{class:"flex flex-row gap-2 mt-2 justify-center min-h-[120px] items-center",children:m.map(h=>u("div",{className:`${h.id===s?"border-2 border-rose-600":""}`,children:u(D,{...h,className:"card"})},h.id))})]})}const ft=["Aelar","Aegnor","Aelric","Aerin","Alaric","Alderon","Alduin","Almeric","Amadan","Amaranth","Amerin","Amiran","Arathorn","Aric","Arin","Arion","Arkan","Aryon","Ascalon","Ashton","Asterion","Athel","Atholan","Avalos","Avarion","Balor","Barak","Bardon","Beldor","Belian","Brennar","Bryndal","Caelan","Caldor","Calion","Carrion","Celdor","Cerius","Ceron","Charon","Crom","Daelan","Daeron","Darian","Darion","Darius","Davon","Dorian","Draven","Drennan","Eadric","Ealdor","Eamon","Ealdred","Eldan","Eldric","Elian","Elior","Emeric","Emrys","Eragon","Eremor","Eryn","Faramir","Fenris","Finian","Fiora","Galen","Galenor","Galor","Garan","Garric","Garvin","Gildor","Goran","Hadrian","Halbarad","Halden","Halir","Harbin","Harlan","Iskandar","Ivar","Jareth","Kaelan","Kaelthas","Kaladin","Kaldor","Keron","Lorian","Loric","Lucan","Lucius","Lysander","Maelon","Malric","Morian","Nolen","Theron","Vaelor"],J=5,pt=()=>{const{setHeroRoster:t,setEnemyRoster:e}=A(j),[n,o]=C([]),[a,l]=C(!1),[i,s]=C(null),[_,c]=C(""),[f,r]=C("front"),p=B.filter(d=>d.team==="hero"),m=d=>{if(n.length>=J){alert(`Maximum number of heroes (${J}) reached.`);return}s(d),c(d.type),r("front"),l(!0)},h=()=>{if(!i||!_){alert("Please enter a name.");return}if(n.some(x=>x.name.trim().toLowerCase()===_.trim().toLowerCase()&&(i.id?x.id!==i.id:!0))){alert("Hero names must be unique. Please choose a different name.");return}if(n.some(x=>x.id===i.id))o(x=>x.map(E=>E.id===i.id?{...i,id:_,name:_,row:f}:E));else{const x={...i,id:_,name:_,row:f};o(E=>[...E,x])}l(!1),s(null),c(""),r("front")},b=d=>{s(d),c(d.name||d.type),r(d.row||"front"),l(!0)},g=()=>{const d=B.filter(w=>w.team==="enemy");if(d.length===0)return console.error("No enemy templates found in units.json. Cannot generate enemies."),[];const v=d.filter(w=>w.boss===!0);if(v.length===0)return console.error("No boss templates found in units.json. Cannot satisfy 'at least one boss' requirement."),[];const x=n.reduce((w,H)=>w+H.rating,0);console.log("totalHeroRating ---> ",x);const E=x+5,S=[];let R=0;const T={...v[Math.floor(Math.random()*v.length)]};delete T.name,S.push(T),R+=T.rating;const M=d.filter(w=>!w.boss).map(w=>{const H={...w};return delete H.name,H}).sort(()=>Math.random()-.5);for(;R<E&&M.length>0;){const w=M.pop();S.push(w),R+=w.rating}if(R<E)return console.error(`Failed to meet enemy rating threshold: required ${E}, reached ${R}.`),[];const O=new Set;return S.forEach((w,H)=>{let z=ft[H]||`${w.type}_${H+1}`;for(;O.has(z);)z=`${w.type}_${H+1}_${Math.floor(Math.random()*1e3)}`;O.add(z),w.id=z}),console.log("totalEnemyRating ---> ",R),S},y=()=>{if(n.length===0){alert("Please select at least one hero.");return}const d=n.map(x=>x.name.trim().toLowerCase());if(new Set(d).size!==d.length){alert("Hero names must be unique. Please ensure each hero has a distinct name.");return}t(n);const v=g();e(v),console.log("Heroes:",n),console.log("Enemies:",v)};return u("div",{className:"min-h-screen bg-gray-800 text-gray-200 p-4 md:p-8 font-serif",children:[u("h1",{className:"text-3xl md:text-3xl font-bold text-center text-amber-400 mb-8 tracking-wider",children:"The First Descent v.1.5      "}),u("div",{className:"mb-10",children:[u("h2",{className:"text-sm text-amber-300 mb-4 border-b-2 border-gray-700 pb-2",children:["Choose Your Heroes (",n.length,"/",J,")"]}),u("div",{className:"grid grid-cols-6  gap-2",children:p.map(d=>u("div",{onClick:()=>m(d),className:` bg-gray-700 border-2 border-gray-600 py-4 px-2 rounded-lg shadow-lg cursor-pointer hover:bg-gray-600 hover:border-amber-500 transition-all duration-200 text-center ${n.length>=J?"opacity-50 cursor-not-allowed":""}`,children:u("p",{className:"text-xs text-center font-semibold text-amber-200",children:d.type})},d.type))})]}),n.length>0&&u("div",{className:"mb-10",children:[u("h2",{className:"text-2xl text-amber-300 mb-4 border-b-2 border-gray-700 pb-2",children:"Your Chosen Adventurers"}),u("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:n.map(d=>u("div",{onClick:()=>b(d),className:"bg-gray-700 border-2 border-amber-600 p-4 rounded-lg shadow-md cursor-pointer hover:bg-gray-600",children:[u("p",{className:"text-xl font-bold text-amber-100",children:d.name}),u("p",{className:"text-sm text-gray-400",children:["Type: ",d.type]}),u("p",{className:"text-sm text-gray-400",children:["Row: ",d.row.charAt(0).toUpperCase()+d.row.slice(1)]})]},d.id))})]}),a&&u("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50 p-4",children:u("div",{className:"bg-gray-800 p-6 md:p-8 rounded-lg shadow-2xl border-2 border-amber-500 w-full max-w-md text-gray-200",children:[u("h3",{className:"text-2xl font-bold text-amber-400 mb-6 text-center",children:"Configure Your Hero"}),u("p",{className:"text-lg mb-2 text-amber-200",children:["Hero Type: ",u("span",{className:"font-semibold",children:i&&i.type})]}),u("div",{className:"mb-4",children:[u("label",{htmlFor:"heroName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Name your hero:"}),u("input",{id:"heroName",type:"text",value:_,onInput:d=>c(d.target.value),className:"w-full bg-gray-700 border border-gray-600 text-gray-200 rounded-md p-2 focus:ring-amber-500 focus:border-amber-500 placeholder-gray-500",placeholder:"e.g., Sir Reginald"})]}),u("div",{className:"mb-6",children:[u("label",{htmlFor:"heroRow",className:"block text-sm font-medium text-gray-300 mb-1",children:"Preferred Row:"}),u("select",{id:"heroRow",value:f,onChange:d=>r(d.target.value),className:"w-full bg-gray-700 border border-gray-600 text-gray-200 rounded-md p-2 focus:ring-amber-500 focus:border-amber-500",children:[u("option",{value:"front",children:"Front Line"}),u("option",{value:"back",children:"Back Line"})]})]}),u("div",{className:"flex flex-col sm:flex-row justify-between gap-3",children:[u("button",{onClick:h,className:"w-full sm:w-auto bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-6 rounded-md shadow-md transition-colors duration-200",children:"Save Hero"}),u("button",{onClick:()=>{l(!1),s(null),c(""),r("front")},className:"w-full sm:w-auto bg-gray-600 hover:bg-gray-500 text-gray-200 font-bold py-2 px-6 rounded-md shadow-md transition-colors duration-200",children:"Cancel"})]})]})}),n.length>0&&u("div",{className:"text-center mt-12",children:u("button",{onClick:y,disabled:n.length===0,className:`bg-red-700 hover:bg-red-800 text-white font-bold text-xl py-3 px-8 rounded-lg shadow-xl transition-all duration-200 tracking-wider
                          ${n.length===0?"opacity-50 cursor-not-allowed":"hover:shadow-2xl hover:scale-105"}`,children:"Enter the Dungeon!"})})]})};function yt(){return u("div",{className:"min-h-screen flex justify-center items-center bg-gray-800 text-gray-200",children:u("h1",{className:"text-4xl md:text-5xl font-bold text-amber-400 tracking-wider",children:"Game Over"})})}const gt=()=>{const{isPlayerTurn:t,isGameOver:e,isNewGame:n}=ge();switch(console.log({isPlayerTurn:t,isGameOver:e,isNewGame:n}),!0){case n:return u(pt,{});case e:return u(yt,{});case(t&&!e):return u(mt,{});case(!t&&!e):return u(ht,{})}};function vt(){return u(at,{children:u(it,{children:u(ut,{children:[" ",u(dt,{children:u(gt,{})})]})})})}et(u(vt,{}),document.getElementById("app"));
